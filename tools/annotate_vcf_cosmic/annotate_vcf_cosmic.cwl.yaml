cwlVersion: v1.0
class: CommandLineTool

label: VCF merge

requirements:
  - class: "DockerRequirement"
    dockerImageId: "TODO"

baseCommand:
  - /stornext/snfs2/can/code/jython/jython-2.7.0/bin/jython
  - /hgsc_software/cancer-analysis/halotron/illumina/illumina_v0.0.2/halotron/illumina/annotation/annotate_vcf_cosmic.py

# TODO move to dockerfile
# export JYTHONPATH=/hgsc_software/cancer-analysis/halotron/illumina/illumina_v0.0.2/halotron/site-packages
# export CLASSPATH=/hgsc_software/cancer-analysis/code/javalib/sqlite-jdbc-3.8.11.2/sqlite-jdbc-3.8.11.2.jar:/hgsc_software/cancer-analysis/code/picard-tools-1.129/picard.jar:/hgsc_software/cancer-analysis/code/picard-tools-1.129/picard-lib.jar:/hgsc_software/cancer-analysis/code/picard-tools-1.129/htsjdk-1.129.jar:/hgsc_software/cancer-analysis/code/krcgtk/krcgtk-0.01.jar:$CLASSPATH

# TODO resource requirement?
# -J-Xmx15g

arguments:
  - id: outputTODO
    position: 4
    valueFrom: TODO?

inputs:

  - id: reference
    prefix: --reference
    type: File
    # TODO move reference file to downloadable location and inputs.json example
    # 'reference': '/hgsc_software/cancer-analysis/resources/references/human/hg19/hg19.fa',

  - id: cosmic
    position: 1
    type: File
    # TODO move reference file to downloadable location and inputs.json example
    # 'cosmic': '/hgsc_software/cancer-analysis/resources/annotation-databases/cosmic/v71/CosmicCodingMuts.cnt3.vcf',

  - id: vepannotation
    type: TODO file
    position: 2

  - id: valstatus
    position: 3
    type: File
    # TODO move reference file to downloadable location and inputs.json example
    # 'valstatus': '/hgsc_software/cancer-analysis/resources/dbsnp/hg19/146/dbSNP_b146_GRCh37p13.valstatus.db',


outputs:
  - id: TODO_output_ID
    type: File
    outputBinding:
      glob: outputFileTODO
